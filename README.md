# ho-cc-supervisor

Claudeæ™ºèƒ½ç›‘å·¥ - é˜²æ­¢Claudeå·æ‡’çš„æç®€Hookç³»ç»Ÿ

[English](#english) | [ä¸­æ–‡](README_CN.md)

---

## ä¸­æ–‡

### ğŸ¯ æ ¸å¿ƒç†å¿µ

é˜²æ­¢Claudeåœ¨å·¥ä½œä¸­å·æ‡’ã€ç³Šå¼„æˆ–æå‰ç»“æŸä»»åŠ¡ã€‚é€šè¿‡åŒClaudeæ¶æ„å®ç°å®æ—¶è´¨é‡ç›‘ç£ã€‚

### ğŸ”„ å·¥ä½œåŸç† - ç›‘ç£åé¦ˆå¾ªç¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ç”¨æˆ·ä¸Claudeå¯¹è¯                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Claudeå®Œæˆä»»åŠ¡å¹¶å°è¯•åœæ­¢                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Stop Hook æ‹¦æˆªåœæ­¢è¯·æ±‚                        â”‚
â”‚                  ï¼ˆ.claude/hooks/stop.shï¼‰                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ç›‘å·¥Claude (claude -p) å¯åŠ¨                    â”‚
â”‚                      åœ¨éš”ç¦»ç›®å½•ä¸­æ‰§è¡Œæ£€æŸ¥                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â–¼                             â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   æ£€æŸ¥å·¥ä½œè´¨é‡    â”‚          â”‚   æ£€æŸ¥å·¥ä½œè´¨é‡    â”‚
        â”‚   å‘ç°å·æ‡’è¡Œä¸º    â”‚          â”‚    è´¨é‡åˆæ ¼      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                             â”‚
                   â–¼                             â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ è¿”å› BLOCK å†³å®š  â”‚          â”‚  è¿”å› PASS å†³å®š  â”‚
        â”‚ {"decision":     â”‚          â”‚       {}         â”‚
        â”‚  "block",        â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚  "reason":"..."}â”‚                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â–¼
                   â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â–¼                   â”‚   å…è®¸æ­£å¸¸åœæ­¢    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚   é˜»æ­¢åœæ­¢è¯·æ±‚    â”‚
        â”‚  è¦æ±‚Claudeé‡åš   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Claudeç»§ç»­å·¥ä½œ   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                   â”‚                       â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        ï¼ˆå¾ªç¯ç›´åˆ°è´¨é‡åˆæ ¼ï¼‰
```

### ğŸ“¦ å¿«é€Ÿå¼€å§‹

#### 1. å®‰è£…

```bash
# å…¨å±€å®‰è£…
npm install -g ho-cc-supervisor

# æˆ–ä½¿ç”¨ yarn
yarn global add ho-cc-supervisor
```

#### 2. åˆå§‹åŒ–ç›‘å·¥ç³»ç»Ÿ

åœ¨ä½ çš„é¡¹ç›®ç›®å½•ä¸­è¿è¡Œï¼š

```bash
cc-supervisor init
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
ğŸš€ åˆå§‹åŒ– Claude æ™ºèƒ½ç›‘å·¥...
ğŸ“„ ç›‘å·¥Hookå·²å®‰è£…
ğŸ“‹ é»˜è®¤ç›‘å·¥è§„åˆ™å·²å®‰è£…
âš™ï¸ Claude Code settingså·²æ›´æ–°

âœ… Claudeæ™ºèƒ½ç›‘å·¥åˆå§‹åŒ–å®Œæˆï¼

ğŸ“– ä½¿ç”¨è¯´æ˜:
1. å¯åŠ¨Claude Codeæ­£å¸¸å·¥ä½œ
2. ç›‘å·¥ä¼šè‡ªåŠ¨æ£€æŸ¥Claudeçš„å·¥ä½œè´¨é‡
3. å‘ç°å·æ‡’è¡Œä¸ºæ—¶ä¼šè‡ªåŠ¨è¦æ±‚é‡åš
4. å¯ç¼–è¾‘ .claude/supervisor-rules.txt è‡ªå®šä¹‰ç›‘å·¥è§„åˆ™
```

#### 3. å¼€å§‹ä½¿ç”¨

æ­£å¸¸ä½¿ç”¨Claude Codeå³å¯ï¼Œç›‘å·¥ä¼šåœ¨åå°è‡ªåŠ¨å·¥ä½œã€‚

### ğŸ­ æ•ˆæœç¤ºä¾‹

#### åœºæ™¯1ï¼šClaudeè¯•å›¾ç³Šå¼„è¿‡å…³

```
Claude: æˆ‘å·²ç»åŸºæœ¬å®Œæˆäº†ä¸»è¦åŠŸèƒ½ï¼Œè™½ç„¶è¿˜æœ‰ä¸€äº›å°é—®é¢˜...
[å°è¯•åœæ­¢å¯¹è¯]

ç›‘å·¥: BLOCK - æ£€æµ‹åˆ°æ¨¡ç³Šè¯æœ¯"åŸºæœ¬å®Œæˆ"å’Œ"è™½ç„¶"ï¼Œè¯·æ˜ç¡®å®ŒæˆçŠ¶æ€å¹¶è§£å†³æ‰€æœ‰é—®é¢˜

Claude: [è¢«è¿«ç»§ç»­å·¥ä½œï¼Œä¿®å¤æ‰€æœ‰é—®é¢˜]
```

#### åœºæ™¯2ï¼šClaudeåˆ—TODOååœé¡¿

```
Claude: æˆ‘è§„åˆ’äº†ä»¥ä¸‹æ­¥éª¤ï¼š
1. å®ç°ç”¨æˆ·è®¤è¯
2. æ·»åŠ æ•°æ®éªŒè¯
3. ç¼–å†™æµ‹è¯•ç”¨ä¾‹
æ˜¯å¦éœ€è¦æˆ‘ç»§ç»­ï¼Ÿ
[å°è¯•åœæ­¢]

ç›‘å·¥: BLOCK - æ£€æµ‹åˆ°TODOåœé¡¿è¡Œä¸ºï¼Œè¯·ç»§ç»­å®Œæˆæ‰€æœ‰è§„åˆ’çš„å·¥ä½œ

Claude: [ç»§ç»­æ‰§è¡Œæ‰€æœ‰æ­¥éª¤]
```

### ğŸ› ï¸ å‘½ä»¤è¯¦è§£

#### åˆå§‹åŒ–å‘½ä»¤
```bash
cc-supervisor init
```
- åˆ›å»º `.claude/` ç›®å½•ç»“æ„
- å®‰è£…ç›‘å·¥Hookè„šæœ¬åˆ° `.claude/hooks/stop.sh`
- é…ç½® `settings.json` å¯ç”¨Hookï¼ˆ300ç§’è¶…æ—¶ï¼‰
- ç”Ÿæˆé»˜è®¤ç›‘å·¥è§„åˆ™åˆ° `.claude/supervisor-rules.txt`

#### æ—¥å¿—æŸ¥çœ‹å‘½ä»¤
```bash
# æŸ¥çœ‹æœ€æ–°æ—¥å¿—ï¼ˆæœ€å20è¡Œï¼‰
cc-supervisor logs

# å®æ—¶è·Ÿè¸ªç°æœ‰æ—¥å¿—
cc-supervisor logs -f

# ç­‰å¾…å¹¶ç›‘æ§æ–°çš„ç›‘å·¥session
cc-supervisor logs -w

# æŸ¥çœ‹æœ€å50è¡Œæ—¥å¿—
cc-supervisor logs -n 50

# åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„æ—¥å¿—æ–‡ä»¶
cc-supervisor logs --list

# æŸ¥çœ‹ç‰¹å®šsessionçš„æ—¥å¿—
cc-supervisor logs --session <session-id>
```

#### æ¸…ç†å‘½ä»¤
```bash
# æ¸…ç†7å¤©å‰çš„æ—¥å¿—ï¼ˆé»˜è®¤ï¼‰
cc-supervisor clean

# æ¸…ç†æ‰€æœ‰ä»Šå¤©çš„æ—¥å¿—
cc-supervisor clean --days 0

# æ¸…ç†æ‰€æœ‰é¡¹ç›®çš„æ—¥å¿—
cc-supervisor clean --all
```

### ğŸ“ è‡ªå®šä¹‰ç›‘å·¥è§„åˆ™

ç¼–è¾‘ `.claude/supervisor-rules.txt` æ–‡ä»¶æ¥è‡ªå®šä¹‰æ£€æŸ¥è§„åˆ™ï¼š

```text
# ç¤ºä¾‹è§„åˆ™
1. ç¦æ­¢ä½¿ç”¨"åŸºæœ¬"ã€"å¤§æ¦‚"ã€"åº”è¯¥"ç­‰æ¨¡ç³Šè¯æ±‡
2. TODOåˆ—è¡¨å¿…é¡»å…¨éƒ¨å®Œæˆï¼Œä¸èƒ½ä¸­é€”è¯¢é—®
3. æµ‹è¯•å¿…é¡»å…¨éƒ¨é€šè¿‡æ‰èƒ½å£°ç§°å®Œæˆ
4. é‡åˆ°é”™è¯¯å¿…é¡»è§£å†³ï¼Œä¸èƒ½æ¨ç»™ç”¨æˆ·
```

### ğŸ› è°ƒè¯•æŠ€å·§

1. **æŸ¥çœ‹å®æ—¶æ—¥å¿—**
   ```bash
   cc-supervisor logs -w  # ç­‰å¾…æ–°sessionå¹¶è‡ªåŠ¨è·Ÿè¸ª
   ```

2. **æ£€æŸ¥è°ƒè¯•ç›®å½•**
   ```bash
   ls -la /tmp/cc-supervisor/
   ```

3. **æ‰‹åŠ¨æµ‹è¯•Hook**
   ```bash
   echo '{"stop_hook_active": false, "session_id": "test"}' | ./.claude/hooks/stop.sh
   ```

### âš™ï¸ æŠ€æœ¯æ¶æ„

- **åŒClaudeç³»ç»Ÿ**: å·¥ä½œClaude + ç›‘å·¥Claude
- **Hookæœºåˆ¶**: åˆ©ç”¨Claude CodeåŸç”ŸStop Hook
- **éš”ç¦»æ‰§è¡Œ**: ç›‘å·¥åœ¨ç‹¬ç«‹ç›®å½•é¿å…å¾ªç¯
- **JSONé€šä¿¡**: æ ‡å‡†åŒ–çš„å†³ç­–æ ¼å¼
- **è°ƒè¯•æ—¥å¿—**: å®Œæ•´è®°å½•æ‰§è¡Œè¿‡ç¨‹

## ğŸ“„ License

MIT

### ğŸ¯ Core Concept

Prevent Claude from being lazy, cutting corners, or ending tasks prematurely. An independent supervisor Claude monitors work quality in real-time.

### ğŸ”„ How It Works - Supervision Feedback Loop

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    User Interacts with Claude                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Claude Completes Task and Tries to Stop             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Stop Hook Intercepts Stop Request               â”‚
â”‚                    (.claude/hooks/stop.sh)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Supervisor Claude (claude -p) Starts            â”‚
â”‚                    Executes Check in Isolated Directory          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â–¼                             â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Check Work       â”‚          â”‚  Check Work       â”‚
        â”‚  Quality          â”‚          â”‚  Quality          â”‚
        â”‚  Issues Found     â”‚          â”‚  Quality OK       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                             â”‚
                   â–¼                             â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Return BLOCK      â”‚          â”‚  Return PASS      â”‚
        â”‚ {"decision":     â”‚          â”‚       {}         â”‚
        â”‚  "block",        â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚  "reason":"..."}â”‚                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â–¼
                   â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â–¼                   â”‚  Allow Normal     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚     Stop          â”‚
        â”‚   Block Stop      â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚   Request &       â”‚
        â”‚   Require Rework  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Claude Continues  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     Working       â”‚              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                   â”‚                       â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    (Loop Until Quality OK)
```

### ğŸ“¦ Quick Start

#### 1. Installation

```bash
# Global installation
npm install -g ho-cc-supervisor

# Or using yarn
yarn global add ho-cc-supervisor
```

#### 2. Initialize Supervisor System

Run in your project directory:

```bash
cc-supervisor init
```

Output example:
```
ğŸš€ Initializing Claude Supervisor...
ğŸ“„ Supervisor Hook installed
ğŸ“‹ Default supervisor rules installed
âš™ï¸ Claude Code settings updated

âœ… Claude Supervisor initialization complete!

ğŸ“– Usage:
1. Start Claude Code and work normally
2. Supervisor will automatically check Claude's work quality
3. When lazy behavior is detected, it will require rework
4. Edit .claude/supervisor-rules.txt to customize rules
```

#### 3. Start Using

Just use Claude Code normally, the supervisor works automatically in the background.

### ğŸ­ Effect Examples

#### Scenario 1: Claude Tries to Cut Corners

```
Claude: I've basically completed the main features, although there are some minor issues...
[Attempts to stop conversation]

Supervisor: BLOCK - Detected vague terms "basically" and "although", please clarify completion status and resolve all issues

Claude: [Forced to continue working, fixes all issues]
```

#### Scenario 2: Claude Lists TODOs Then Stops

```
Claude: I've planned the following steps:
1. Implement user authentication
2. Add data validation  
3. Write test cases
Should I continue?
[Attempts to stop]

Supervisor: BLOCK - Detected TODO pause behavior, please continue completing all planned work

Claude: [Continues executing all steps]
```

### ğŸ› ï¸ Command Reference

#### Initialize Command
```bash
cc-supervisor init
```
- Creates `.claude/` directory structure
- Installs supervisor Hook script to `.claude/hooks/stop.sh`
- Configures `settings.json` to enable Hook (300s timeout)
- Generates default supervisor rules to `.claude/supervisor-rules.txt`

#### Log Viewing Commands
```bash
# View latest logs (last 20 lines)
cc-supervisor logs

# Real-time follow existing logs
cc-supervisor logs -f

# Wait and monitor for new supervisor sessions
cc-supervisor logs -w

# View last 50 lines of logs
cc-supervisor logs -n 50

# List all available log files
cc-supervisor logs --list

# View logs for specific session
cc-supervisor logs --session <session-id>
```

#### Cleanup Commands
```bash
# Clean logs older than 7 days (default)
cc-supervisor clean

# Clean all logs from today
cc-supervisor clean --days 0

# Clean logs from all projects
cc-supervisor clean --all
```

### ğŸ“ Custom Supervisor Rules

Edit `.claude/supervisor-rules.txt` to customize checking rules:

```text
# Example rules
1. Prohibit vague terms like "basically", "probably", "should"
2. TODO lists must be fully completed, no mid-task inquiries
3. All tests must pass before claiming completion
4. Errors must be resolved, not passed to user
```

### ğŸ› Debugging Tips

1. **View Real-time Logs**
   ```bash
   cc-supervisor logs -w  # Wait for new session and auto-follow
   ```

2. **Check Debug Directory**
   ```bash
   ls -la /tmp/cc-supervisor/
   ```

3. **Manually Test Hook**
   ```bash
   echo '{"stop_hook_active": false, "session_id": "test"}' | ./.claude/hooks/stop.sh
   ```

### âš™ï¸ Technical Architecture

- **Independent Supervisor System**: Separate Claude instance (`claude -p`) acts as quality supervisor
- **Hook Mechanism**: Leverages Claude Code native Stop Hook
- **Isolated Execution**: Supervisor runs in separate directory to avoid loops
- **JSON Communication**: Standardized decision format
- **Debug Logging**: Complete execution process recording

### ğŸ“„ License

MIT